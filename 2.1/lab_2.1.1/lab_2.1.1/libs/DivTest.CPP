#include "stdafx.h"

#include "..\\MathVisualC++\\mmath.h"
extern unsigned long Prime[];

#define PRIME_2BYTE (6542) // количество двухбайтовых простых чисел
#define PRIME_1BYTE (54)   // количество однобайтовых простых чисел

/*********************************************************************
	ТЕСТ ДЕЛИМОСТИ НА МАЛЕНЬКИЕ ПРОСТЫЕ ЧИСЛА
Параметры:
 P        -"большое" тестируемое число.       
 Возвращаемое значение:                        
      0 - число не имеет делителей (МОЖЕТ оказаться простым);            
      1 - число составное (имеет делители из указанного диапазона).    
*********************************************************************/
int DivTest(M_LONG P){
	register int i;
	M_LONG q;
	DIGIT rem;

	for(i=0;i<PRIME_2BYTE;i++){
		m_div1(P,Prime[i],q,&rem);//rem-остаток
		if(rem==0)// делится нацело
			return 1;
		if(P[0]==1 && P[1]<=Prime[i])
			return 0;
	}
	return 0;
}




